<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Particle Header (Light)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    :root{
      --ink: #0b2a5b;          /* dark blue */
      --bg:  #f8fafc;          /* soft off-white */
    }

    *{ box-sizing:border-box; }

    html, body{
      margin:0; padding:0;
      width:100%; height:100%;
      background: var(--bg);
      color: var(--ink);
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      overflow:hidden;
    }

    .page{ position:relative; width:100%; height:100%; }
    canvas{
      position:absolute; inset:0;
      width:100%; height:100%;
      display:block;
      z-index:0;
    }

    /* ===== Portrait framing (reliable circle crop) ===== */
    .portrait-frame{
      position:absolute;
      width: 210px;
      height: 210px;
      padding: 3px;                 /* ring thickness */
      border-radius: 9999px;
      background: linear-gradient(135deg,
        rgba(37,99,235,0.55),
        rgba(14,165,233,0.22),
        rgba(99,102,241,0.45)
      );
      box-shadow:
        0 24px 60px rgba(2, 6, 23, 0.16),
        0 2px 10px rgba(2, 6, 23, 0.08);
      z-index:1;
      pointer-events:none;
    }

    .portrait-inner{
      width:100%;
      height:100%;
      border-radius: inherit;
      overflow:hidden;
      background: rgba(255,255,255,0.70);
      border: 1px solid rgba(2,6,23,0.08);
    }

    .portrait-inner img{
      width:100%;
      height:100%;
      object-fit: cover;
      filter: contrast(1.05) saturate(1.02);
      opacity: 0.92;
      transform: scale(1.02); /* avoids edge gaps on some renders */
    }

    .portrait-left{ top: 1.75rem; left: 2rem; }
    .portrait-right{ top: 1.75rem; right: 2rem; }

    /* ===== Text ===== */
    .content{
      position:relative;
      z-index:2;
      width:100%;
      height:100%;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      text-align:center;
      pointer-events:none;
      padding: 0 16px;
    }

    .content h1{
      margin:0 0 14px;
      font-weight: 600;
      letter-spacing: 0.10em;
      text-transform: uppercase;
      font-size: 38px;
      color: var(--ink);
      text-shadow: 0 1px 0 rgba(255,255,255,0.75);
      opacity: 0.95;
    }

    .subtitle{
      margin:0;
      font-size: 13px;
      opacity: 0.82;
      max-width: 520px;
      line-height: 1.55;
    }

    .subtitle .small{ font-size: 12px; font-style: italic; opacity: 0.95; }
    .subtitle .medium{ font-size: 15px; font-weight: 500; font-style: italic; }
    .subtitle .big{ font-size: 18px; font-weight: 600; font-style: italic; }

    @media (max-width: 600px){
      .content h1{ font-size: 26px; margin-bottom: 10px; }
      .subtitle{ font-size: 11px; max-width: 92%; }
      .subtitle .medium{ font-size: 12px; }
      .subtitle .small{ font-size: 11px; }

      .portrait-frame{ width: 150px; height: 150px; padding: 3px; }
      .portrait-left{ top: 1rem; left: 1rem; }
      .portrait-right{ top: 1rem; right: 1rem; }
    }
  </style>
</head>

<body>
  <div class="page">
    <canvas id="particleCanvas"></canvas>

    <div class="portrait-frame portrait-left">
      <div class="portrait-inner">
        <img src="Ali1.jpg" alt="Ali 1">
      </div>
    </div>

    <div class="portrait-frame portrait-right">
      <div class="portrait-inner">
        <img src="Ali2.jpg" alt="Ali 2">
      </div>
    </div>

    <div class="content">
      <h1>ALI MOUSAVI</h1>
      <p class="subtitle">
        <span class="small">Researcher at the intersection of</span><br>
        <span class="medium">
          Artificial&nbsp;Intelligence,
          Biomedical&nbsp;Signal&nbsp;Processing,<br>
          Brain&#8209;Computer&nbsp;Interfaces,
          Virtual&nbsp;Reality, and&nbsp;Learning
        </span>
      </p>
    </div>
  </div>

  <script>
    // ===== Canvas & sizing =====
    const canvas = document.getElementById('particleCanvas');
    const ctx = canvas.getContext('2d');

    let width, height, area;
    const particles = [];

    let DENSITY_DIVISOR = 9000;
    let MAX_PARTICLES = 120;
    let MIN_PARTICLES = 40;

    const MAX_VELOCITY = 0.55;
    const LINK_DISTANCE = 140;
    const MOUSE_RADIUS  = 130;
    const MOUSE_FORCE   = 0.08;

    const DOT_COLOR = '#0b2a5b';
    const LINE_RGB  = '11,42,91';

    const mouse = { x:0, y:0, active:false };

    function resizeCanvas() {
      const rect = canvas.getBoundingClientRect();
      width  = rect.width;
      height = rect.height;
      canvas.width  = width;
      canvas.height = height;
      area = width * height;

      if (width <= 600) {
        DENSITY_DIVISOR = 18000; MAX_PARTICLES = 60; MIN_PARTICLES = 18;
      } else if (width <= 900) {
        DENSITY_DIVISOR = 12000; MAX_PARTICLES = 90; MIN_PARTICLES = 24;
      } else {
        DENSITY_DIVISOR = 9000;  MAX_PARTICLES = 120; MIN_PARTICLES = 40;
      }

      seedParticles();
    }

    function seedParticles() {
      particles.length = 0;
      let targetCount = Math.round(area / DENSITY_DIVISOR);
      if (targetCount < MIN_PARTICLES) targetCount = MIN_PARTICLES;
      if (targetCount > MAX_PARTICLES) targetCount = MAX_PARTICLES;
      for (let i = 0; i < targetCount; i++) particles.push(createParticle());
    }

    function createParticle() {
      const angle = Math.random() * Math.PI * 2;
      const speed = (Math.random() * 0.5 + 0.5) * MAX_VELOCITY;
      return {
        x: Math.random() * width,
        y: Math.random() * height,
        vx: Math.cos(angle) * speed,
        vy: Math.sin(angle) * speed,
        radius: 1.1 + Math.random() * 2.6
      };
    }

    // ===== Natural, professional light background =====
    function drawBackground() {
      ctx.clearRect(0, 0, width, height);

      // soft off-white base
      ctx.fillStyle = "#f8fafc";
      ctx.fillRect(0, 0, width, height);

      // subtle vertical wash
      const wash = ctx.createLinearGradient(0, 0, 0, height);
      wash.addColorStop(0.0, "rgba(2, 6, 23, 0.020)");
      wash.addColorStop(0.6, "rgba(2, 6, 23, 0.000)");
      wash.addColorStop(1.0, "rgba(2, 6, 23, 0.012)");
      ctx.fillStyle = wash;
      ctx.fillRect(0, 0, width, height);

      // center glow (blue, very soft)
      const cx = width / 2, cy = height / 2;
      const r1 = Math.max(width, height) * 0.70;
      const g1 = ctx.createRadialGradient(cx, cy, 0, cx, cy, r1);
      g1.addColorStop(0.0, "rgba(37, 99, 235, 0.10)");
      g1.addColorStop(0.45,"rgba(14, 165, 233, 0.05)");
      g1.addColorStop(1.0, "rgba(248, 250, 252, 0.00)");
      ctx.fillStyle = g1;
      ctx.fillRect(0, 0, width, height);

      // corner glows (adds “natural” depth)
      const r2 = Math.max(width, height) * 0.55;

      const tl = ctx.createRadialGradient(width*0.15, height*0.18, 0, width*0.15, height*0.18, r2);
      tl.addColorStop(0.0, "rgba(99, 102, 241, 0.07)");
      tl.addColorStop(1.0, "rgba(248, 250, 252, 0.00)");
      ctx.fillStyle = tl;
      ctx.fillRect(0, 0, width, height);

      const br = ctx.createRadialGradient(width*0.85, height*0.82, 0, width*0.85, height*0.82, r2);
      br.addColorStop(0.0, "rgba(37, 99, 235, 0.06)");
      br.addColorStop(1.0, "rgba(248, 250, 252, 0.00)");
      ctx.fillStyle = br;
      ctx.fillRect(0, 0, width, height);
    }

    // very subtle edge depth (keeps it crisp, not “dirty”)
    function drawOverlay() {
      const cx = width / 2, cy = height / 2;
      const r = Math.max(width, height);

      const v = ctx.createRadialGradient(cx, cy, r * 0.10, cx, cy, r);
      v.addColorStop(0.0, "rgba(2, 6, 23, 0.00)");
      v.addColorStop(0.75,"rgba(2, 6, 23, 0.00)");
      v.addColorStop(1.0, "rgba(2, 6, 23, 0.05)");
      ctx.fillStyle = v;
      ctx.fillRect(0, 0, width, height);
    }

    function updateParticles() {
      for (const p of particles) {
        if (mouse.active) {
          const dx = p.x - mouse.x, dy = p.y - mouse.y;
          const dist = Math.sqrt(dx*dx + dy*dy) || 0.0001;
          if (dist < MOUSE_RADIUS) {
            const force = (MOUSE_RADIUS - dist) / MOUSE_RADIUS;
            p.vx += (dx / dist) * MOUSE_FORCE * force;
            p.vy += (dy / dist) * MOUSE_FORCE * force;
          }
        }

        p.x += p.vx; p.y += p.vy;

        if (p.x - p.radius < 0) { p.x = p.radius; p.vx *= -1; }
        else if (p.x + p.radius > width) { p.x = width - p.radius; p.vx *= -1; }

        if (p.y - p.radius < 0) { p.y = p.radius; p.vy *= -1; }
        else if (p.y + p.radius > height) { p.y = height - p.radius; p.vy *= -1; }
      }
    }

    function drawParticles() {
      drawBackground();

      // lines
      for (let i = 0; i < particles.length; i++) {
        const p1 = particles[i];
        for (let j = i + 1; j < particles.length; j++) {
          const p2 = particles[j];
          const dx = p1.x - p2.x, dy = p1.y - p2.y;
          const dist = Math.sqrt(dx*dx + dy*dy);

          if (dist < LINK_DISTANCE) {
            const t = 1 - dist / LINK_DISTANCE;
            const alpha = 0.022 + t * 0.14;     // softer, more premium on white
            ctx.strokeStyle = `rgba(${LINE_RGB},${alpha})`;
            ctx.lineWidth = 0.45 + t * 1.05;

            ctx.beginPath();
            ctx.moveTo(p1.x, p1.y);
            ctx.lineTo(p2.x, p2.y);
            ctx.stroke();
          }
        }
      }

      // dots
      ctx.fillStyle = DOT_COLOR;
      for (const p of particles) {
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
        ctx.fill();
      }

      drawOverlay();
    }

    function loop() {
      updateParticles();
      drawParticles();
      requestAnimationFrame(loop);
    }

    canvas.addEventListener('mousemove', (e) => {
      const rect = canvas.getBoundingClientRect();
      mouse.x = e.clientX - rect.left;
      mouse.y = e.clientY - rect.top;
      mouse.active = true;
    });
    canvas.addEventListener('mouseleave', () => { mouse.active = false; });

    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();
    loop();
  </script>
</body>
</html>
